awoods@awoods-dev08:~/src-windows/onnxruntime-awoods/docs/python/examples/tf_models/rllib-dqn-cartpole_2019-06-06_01$ python -m tf2onnx.convert --saved-model export_model --verbose --opset 8  --output rllib-dqn-cartpole_2019-06-06_01.onnx
WARNING:tensorflow:From /home/awoods/python-envs/athens02-env/lib/python3.6/site-packages/tf2onnx-1.5.0-py3.6.egg/tf2onnx/loader.py:103: load (from tensorflow.python.saved_model.loader_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This function will only be available through the v1 compatibility library as tf.compat.v1.saved_model.loader.load or tf.compat.v1.saved_model.load. There will be a new function for importing SavedModels in Tensorflow 2.0.
2019-06-19 14:29:21,947 - WARNING - tensorflow: From /home/awoods/python-envs/athens02-env/lib/python3.6/site-packages/tf2onnx-1.5.0-py3.6.egg/tf2onnx/loader.py:103: load (from tensorflow.python.saved_model.loader_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This function will only be available through the v1 compatibility library as tf.compat.v1.saved_model.loader.load or tf.compat.v1.saved_model.load. There will be a new function for importing SavedModels in Tensorflow 2.0.
WARNING:tensorflow:From /home/awoods/python-envs/athens02-env/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
2019-06-19 14:29:22,195 - WARNING - tensorflow: From /home/awoods/python-envs/athens02-env/lib/python3.6/site-packages/tensorflow/python/training/saver.py:1266: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.
Instructions for updating:
Use standard file APIs to check for files with this prefix.
WARNING:tensorflow:From /home/awoods/python-envs/athens02-env/lib/python3.6/site-packages/tf2onnx-1.5.0-py3.6.egg/tf2onnx/loader.py:37: convert_variables_to_constants (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.compat.v1.graph_util.convert_variables_to_constants
2019-06-19 14:29:22,431 - WARNING - tensorflow: From /home/awoods/python-envs/athens02-env/lib/python3.6/site-packages/tf2onnx-1.5.0-py3.6.egg/tf2onnx/loader.py:37: convert_variables_to_constants (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.compat.v1.graph_util.convert_variables_to_constants
WARNING:tensorflow:From /home/awoods/python-envs/athens02-env/lib/python3.6/site-packages/tensorflow/python/framework/graph_util_impl.py:245: extract_sub_graph (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.compat.v1.graph_util.extract_sub_graph
2019-06-19 14:29:22,432 - WARNING - tensorflow: From /home/awoods/python-envs/athens02-env/lib/python3.6/site-packages/tensorflow/python/framework/graph_util_impl.py:245: extract_sub_graph (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.compat.v1.graph_util.extract_sub_graph
2019-06-19 14:29:22,512 - WARNING - tf2onnx.loader: inputs [default/q_func/PlaceholderWithDefault:0] is not in frozen graph, delete them
2019-06-19 14:29:22,558 - INFO - tf2onnx.tfonnx: Using tensorflow=1.13.1, onnx=1.4.1, tf2onnx=1.5.0/9713ff
2019-06-19 14:29:22,559 - INFO - tf2onnx.tfonnx: Using opset <onnx, 8>
2019-06-19 14:29:22,619 - VERBOSE - tf2onnx.tfonnx: Summay Stats:
        tensorflow ops: Counter({'Const': 27, 'Identity': 13, 'MatMul': 6, 'BiasAdd': 6, 'Placeholder': 3, 'Select': 3, 'Shape': 3, 'Tanh': 2, 'Relu': 2, 'Sum': 2, 'Sub': 2, 'Add': 2, 'Fill': 2, 'Mul': 2, 'Switch': 2, 'NotEqual': 1, 'ZerosLike': 1, 'Cast': 1, 'RealDiv': 1, 'ExpandDims': 1, 'ArgMax': 1, 'StridedSlice': 1, 'Equal': 1, 'Multinomial': 1, 'Squeeze': 1, 'Pack': 1, 'RandomUniform': 1, 'Less': 1, 'Merge': 1})
        tensorflow attr: Counter({'T': 60, 'dtype': 31, 'value': 27, '_class': 14, 'transpose_b': 6, 'transpose_a': 6, 'data_format': 6, 'shape': 3, 'Tidx': 3, 'out_type': 3, 'keep_dims': 2, 'index_type': 2, 'seed': 2, 'seed2': 2, 'N': 2, 'SrcT': 1, 'Truncate': 1, 'DstT': 1, 'Tdim': 1, 'output_type': 1, 'Index': 1, 'shrink_axis_mask': 1, 'begin_mask': 1, 'ellipsis_mask': 1, 'new_axis_mask': 1, 'end_mask': 1, 'output_dtype': 1, 'squeeze_dims': 1, 'axis': 1})
        onnx mapped: Counter({'Const': 26, 'Identity': 13, 'MatMul': 6, 'BiasAdd': 6, 'Placeholder': 3, 'Shape': 3, 'Select': 3, 'Tanh': 2, 'Relu': 2, 'Sum': 2, 'Fill': 2, 'ZerosLike': 1, 'NotEqual': 1, 'Cast': 1, 'RealDiv': 1, 'ExpandDims': 1, 'Sub': 1, 'Add': 1, 'ArgMax': 1, 'Mul': 1, 'Equal': 1, 'Multinomial': 1, 'Squeeze': 1, 'StridedSlice': 1, 'Pack': 1, 'Less': 1, 'If': 1})
        onnx unmapped: Counter()
2019-06-19 14:29:22,637 - INFO - tf2onnx:
2019-06-19 14:29:22,652 - INFO - tf2onnx.optimizer: Optimizing ONNX model
2019-06-19 14:29:22,653 - VERBOSE - tf2onnx.optimizer: Apply optimize_transpose
2019-06-19 14:29:22,685 - VERBOSE - tf2onnx.optimizer.TransposeOptimizer: no change
2019-06-19 14:29:22,685 - VERBOSE - tf2onnx.optimizer: Apply fold_constants
2019-06-19 14:29:22,712 - VERBOSE - tf2onnx.optimizer.ConstFoldOptimizer: no change
2019-06-19 14:29:22,712 - VERBOSE - tf2onnx.optimizer: Apply merge_duplication
2019-06-19 14:29:22,742 - VERBOSE - tf2onnx.optimizer.MergeDuplicatedNodesOptimizer: Shape -1 (6->5), Cast -2 (18->16)
2019-06-19 14:29:22,742 - VERBOSE - tf2onnx.optimizer: Apply remove_identity
2019-06-19 14:29:22,769 - VERBOSE - tf2onnx.optimizer.IdentityOptimizer: Identity -36 (54->18)
2019-06-19 14:29:22,769 - INFO - tf2onnx.optimizer: After optimization: Shape -1 (6->5), Cast -2 (18->16), Identity -36 (54->18)
2019-06-19 14:29:22,786 - INFO - tf2onnx:
2019-06-19 14:29:22,786 - INFO - tf2onnx: Successfully converted TensorFlow model export_model to ONNX
2019-06-19 14:29:22,802 - INFO - tf2onnx: ONNX model is saved at rllib-dqn-cartpole_2019-06-06_01.onnx